<!DOCTYPE html>
<html>
<head>
	<title>Calc Project</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
		<div class="wrapper">
			<input type="text" class="displayArea" readonly="readonly">

			<section>
				<button class="calcBtn numbers">7</button>
				<button class="calcBtn numbers">8</button>
				<button class="calcBtn numbers">9</button>
				<button class="calcBtn">/</button>
			</section>

			<section>
				<button class="calcBtn numbers">4</button>
				<button class="calcBtn numbers">5</button>
				<button class="calcBtn numbers">6</button>
				<button class="calcBtn">*</button>
			</section>

			<section>
				<button class="calcBtn numbers">3</button>
				<button class="calcBtn numbers">2</button>
				<button class="calcBtn numbers">1</button>
				<button class="calcBtn">-</button>
			</section>

			<section>
				<button class="calcBtn numbers">0</button>
				<button class="calcBtn numbers">.</button>
				<button class="calcBtn">=</button>
				<button class="calcBtn">+</button>
			</section>

			<section id="ResetSection">
				<button class="resetBtn">Reset</button>
			</section>
		</div>

		<script type="text/javascript" defer="defer">
			window.addEventListener('DOMContentLoaded',function(){
				var btns = document.querySelectorAll('.calcBtn');

				var display_area = document.querySelector('.displayArea');
				
				for(x of btns)
				{
					x.addEventListener('click',function(){
						var btn_pressed = Number.isNaN(parseFloat(this.textContent)) ? this.textContent : parseFloat(this.textContent);

						if(btn_pressed)
						{
							if(btn_pressed == "=")
							{
								calculate_result(display_area.value);
							}
							else
							{
								display_area.value += " " + this.textContent ;
							}
						}
						else
						{
							display_area.value += this.textContent ;
						}
					});
				}
				

				function calculate_result(content)
				{
					var elements = content.split(" ");
					console.log(elements);
					var operators = ["+","-","*","/","%"];
					for (x of operators)
					{
						if(elements.includes(x))
						{
							console.log("Included");

							var operator = x;

							var lastIndex1 = elements.indexOf(x);
							var num1 = parseFloat(elements.slice(1,elements.indexOf(x)).join(""));
							console.log(num1);

							var num2 = parseFloat(elements.slice(elements.indexOf(x)+1,elements.length).join(""));
							console.log(num2);

							switch(operator)
							{
								case "+" :
									var result = num1 + num2;
									console.log(result);
									display_area.value += " = " +result;
									break;

								case "-" :
									var result = num1 - num2;
									console.log(result);
									display_area.value += " = " +result;
									break;

								case "*" :
									var result = num1 * num2;
									console.log(result);
									display_area.value += " = " +result;
									break;

								case "/" :
									var result = num1 / num2;
									console.log(result);
									display_area.value += " = " +result;
									break;

								case "%" :
									var result = num1 % num2;
									console.log(result);
									display_area.value += " = " +result;
									break;
							}
							break;
						}
						else
						{
							console.log("NA");
						}
					}
				}
			});

			document.querySelector('.resetBtn').addEventListener('click', () => {
					document.querySelector('.displayArea').value = "";
			});
		</script>
</body>
</html>